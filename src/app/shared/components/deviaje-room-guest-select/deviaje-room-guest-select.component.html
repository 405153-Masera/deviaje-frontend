<div class="position-relative w-100">
    <label class="mb-1" id="selectGuest">Habitaciones y huéspedes</label>
    <div class="selector-trigger" role="button" tabindex="0" aria-labelledby="selectGuest" 
    (click)="toggleDropdown($event)" (keydown.enter)="toggleDropdown($event)" (keydown.space)="toggleDropdown($event)">
        <div>
            <i class="bi bi-people"></i>
            <span>{{ displayText }}</span>
        </div>
        <i class="bi bi-chevron-down dropdown-icon"></i>
    </div>

    <!-- Dropdown de habitaciones y huéspedes -->
    <div class="dropdown-search" [class.show]="isDropdownOpen">
        <div class="dropdown-search-row">
            <div class="option-row">
                <div class="option-title">Habitaciones</div>
            </div>
            <div class="option-counter">
                <button type="button" class="counter-btn" [disabled]="rooms <= minRooms"
                    (click)="decrementRooms($event)">
                    <i class="bi bi-dash"></i>
                </button>
                <span class="counter-value">{{ rooms }}</span>
                <button type="button" class="counter-btn" [disabled]="rooms >= maxRooms"
                    (click)="incrementRooms($event)">
                    <i class="bi bi-plus"></i>
                </button>
            </div>
        </div>

        <div class="dropdown-search-row">
            <div class="option-row">
                <div class="option-title">Adultos</div>
            </div>
            <div class="option-counter">
                <button type="button" class="counter-btn" [disabled]="adults <= minAdults"
                    (click)="decrementGuest('adults', $event)">
                    <i class="bi bi-dash"></i>
                </button>
                <span class="counter-value">{{ adults }}</span>
                <button type="button" class="counter-btn" [disabled]="totalGuest >= maxAdultsPerRoom "
                    (click)="incrementGuest('adults', $event)">
                    <i class="bi bi-plus"></i>
                </button>
            </div>
        </div>

        <div class="dropdown-search-row">
            <div class="option-row">
                <div class="option-title">Niños</div>
                <div class="option-subtitle">De 0 a 11 años</div>
            </div>
            <div class="option-counter">
                <button type="button" class="counter-btn" [disabled]="children <= 0"
                    (click)="decrementGuest('children', $event)">
                    <i class="bi bi-dash"></i>
                </button>
                <span class="counter-value">{{ children }}</span>
                <button type="button" class="counter-btn" [disabled]="totalGuest >= maxAdultsPerRoom"
                    (click)="incrementGuest('children', $event)">
                    <i class="bi bi-plus"></i>
                </button>
            </div>
        </div>

        <div class="d-flex justify-content-end mt-1">
            <button type="button" class="btn-apply" (click)="applySelection($event)">
                Aplicar
            </button>
        </div>
    </div>
</div>